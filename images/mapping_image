FROM ubuntu
RUN apt-get update && apt-get install -y wget unzip
RUN mkdir image_software
RUN cd /image_software && wget http://www.usadellab.org/cms/uploads/supplementary/Trimmomatic/Trimmomatic-0.36.zip
RUN cd /image_software && unzip Trimmomatic-0.36.zip && cd Trimmomatic-0.36 && ls
RUN apt-get install -y --fix-missing git build-essential zlib1g-dev libncurses5-dev libncursesw5-dev python-dev python-setuptools openjdk-8-jdk
RUN cd /image_software && mkdir bwa_0_7_10
RUN cd /image_software/bwa_0_7_10 && git clone --branch 0.7.10 https://github.com/lh3/bwa.git
RUN cd /image_software/bwa_0_7_10/bwa && make
RUN cd /image_software && git clone https://github.com/ENCODE-DCC/pipeline-container.git && cd /image_software/pipeline-container && git checkout dissection-idan
RUN cd /image_software/pipeline-container && git fetch && git pull
RUN cd /image_software && mkdir reference_files
ENTRYPOINT ["python"]
